{
  "provider": {
    "name": "crd_case_worker_ref_service"
  },
  "consumer": {
    "name": "am_org_role_mapping"
  },
  "interactions": [
    {
      "description": "CRD takes s2s/auth token and returns user profiles",
      "request": {
        "method": "POST",
        "path": "/refdata/case-worker/users/fetchUsersById",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "userIds": [
            234873,
            234879
          ]
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": [
          {
            "email_id": "sam.test@gmail.com",
            "base_location": [
              {
                "is_primary": true,
                "location": "Aberdeen Tribunal Hearing Centre",
                "location_id": 219164
              }
            ],
            "user_type": "HMCTS",
            "role": [
              {
                "role": "tribunal-caseworker",
                "is_primary": true,
                "role_id": "1"
              }
            ],
            "region_id": 1,
            "last_name": "TestSurname",
            "id": "234873",
            "region": "National",
            "work_area": [
              {
                "area_of_work": "1",
                "service_code": "BFA1"
              }
            ],
            "first_name": "testFirstname"
          }
        ],
        "matchingRules": {
          "body": {
            "$": {
              "matchers": [
                {
                  "match": "type",
                  "min": 0
                }
              ],
              "combine": "AND"
            },
            "$[*].id": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].first_name": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].last_name": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].email_id": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].region_id": {
              "matchers": [
                {
                  "match": "integer"
                }
              ],
              "combine": "AND"
            },
            "$[*].region": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].user_type": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].role": {
              "matchers": [
                {
                  "match": "type",
                  "min": 0
                }
              ],
              "combine": "AND"
            },
            "$[*].role[*].role_id": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].role[*].role": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].base_location": {
              "matchers": [
                {
                  "match": "type",
                  "min": 0
                }
              ],
              "combine": "AND"
            },
            "$[*].base_location[*].location_id": {
              "matchers": [
                {
                  "match": "integer"
                }
              ],
              "combine": "AND"
            },
            "$[*].base_location[*].location": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].work_area": {
              "matchers": [
                {
                  "match": "type",
                  "min": 0
                }
              ],
              "combine": "AND"
            },
            "$[*].work_area[*].area_of_work": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].work_area[*].service_code": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            }
          }
        }
      },
      "providerStates": [
        {
          "name": "A list of multiple users for CRD request"
        }
      ]
    },
    {
      "description": "CRD takes s2s/auth token and returns user profiles",
      "request": {
        "method": "POST",
        "path": "/refdata/case-worker/users/fetchUsersById",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "userIds": [
            234873
          ]
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": [
          {
            "email_id": "sam.test@gmail.com",
            "base_location": [
              {
                "is_primary": true,
                "location": "Aberdeen Tribunal Hearing Centre",
                "location_id": 219164
              }
            ],
            "user_type": "HMCTS",
            "role": [
              {
                "role": "tribunal-caseworker",
                "is_primary": true,
                "role_id": "1"
              }
            ],
            "region_id": 1,
            "last_name": "TestSurname",
            "id": "234873",
            "region": "National",
            "work_area": [
              {
                "area_of_work": "1",
                "service_code": "BFA1"
              }
            ],
            "first_name": "testFirstname"
          }
        ],
        "matchingRules": {
          "body": {
            "$": {
              "matchers": [
                {
                  "match": "type",
                  "min": 0
                }
              ],
              "combine": "AND"
            },
            "$[*].id": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].first_name": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].last_name": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].email_id": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].region_id": {
              "matchers": [
                {
                  "match": "integer"
                }
              ],
              "combine": "AND"
            },
            "$[*].region": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].user_type": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].role": {
              "matchers": [
                {
                  "match": "type",
                  "min": 0
                }
              ],
              "combine": "AND"
            },
            "$[*].role[*].role_id": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].role[*].role": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].base_location": {
              "matchers": [
                {
                  "match": "type",
                  "min": 0
                }
              ],
              "combine": "AND"
            },
            "$[*].base_location[*].location_id": {
              "matchers": [
                {
                  "match": "integer"
                }
              ],
              "combine": "AND"
            },
            "$[*].base_location[*].location": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].work_area": {
              "matchers": [
                {
                  "match": "type",
                  "min": 0
                }
              ],
              "combine": "AND"
            },
            "$[*].work_area[*].area_of_work": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$[*].work_area[*].service_code": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            }
          }
        }
      },
      "providerStates": [
        {
          "name": "A list of users for CRD request"
        }
      ]
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "3.0.0"
    },
    "pact-jvm": {
      "version": "4.1.7"
    }
  }
}
