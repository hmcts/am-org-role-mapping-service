{
  "_guid_": "S-014.01_VerifyRoleAssignments",
  "_extends_": "QueryRoleAssignments__PositiveResponse_Base",

  "specs": [
    "to verify role assignments are correct for test userId"
  ],

    "body": {
      "queryRequests":[
        {
          "actorId": ["${[scenarioContext][parentContext][testData][request][queryParams][userId]}"],
          "roleType":["ORGANISATION"],
          "roleCategory":["PROFESSIONAL"]
        }
      ]
  },
  "expectedResponse": {
    "body": {
      "roleAssignmentResponse": [{
        "id" : "[[ANYTHING_PRESENT]]",
        "actorIdType" : "IDAM",
        "actorId" : "${[scenarioContext][parentContext][testData][request][queryParams][userId]}",
        "roleType" : "ORGANISATION",
        "roleName" : "Role1",
        "classification" : "RESTRICTED",
        "grantType" : "STANDARD",
        "roleCategory" : "PROFESSIONAL",
        "readOnly" : false,
        "beginTime" : "[[ANYTHING_PRESENT]]",
        "endTime" : "[[ANYTHING_PRESENT]]",
        "created" : "[[ANYTHING_PRESENT]]",
        "attributes" : {
          "caseType": "FT_CaseAccessGroups",
          "substantive": "Y",
          "jurisdiction": "BEFTA_MASTER",
          "caseAccessGroupId": "BEFTA_MASTER:${[scenarioContext][siblingContexts][S-014.01__VerifyProfessionalUser][testData][actualResponse][body][users][0][organisationInfo][organisationIdentifier]}"
        }
      }, {
        "id" : "[[ANYTHING_PRESENT]]",
        "actorIdType" : "IDAM",
        "actorId" : "${[scenarioContext][parentContext][testData][request][queryParams][userId]}",
        "roleType" : "ORGANISATION",
        "roleName" : "Role1",
        "classification" : "RESTRICTED",
        "grantType" : "STANDARD",
        "roleCategory" : "PROFESSIONAL",
        "readOnly" : false,
        "beginTime" : "[[ANYTHING_PRESENT]]",
        "endTime" : "[[ANYTHING_PRESENT]]",
        "created" : "[[ANYTHING_PRESENT]]",
        "attributes" : {
          "caseType": "FT_CaseAccessGroups",
          "substantive": "Y",
          "jurisdiction": "BEFTA_MASTER"
        }
      }
      ]
    }
  }
}
